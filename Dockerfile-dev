FROM ubuntu:19.10

COPY docker/build-gstreamer/install-dependencies /

RUN ["/install-dependencies"]

ARG GSTREAMER_CHECKOUT=66819febd9b5438b12fce5dc0f6a1ff732f46a82
ARG LIBNICE_CHECKOUT=d4ef6b692fe7a18013fbb698d8fc7d0f2995ef8c
ARG GST_PLUGINS_BASE_CHECKOUT=85e201fe301f2c946cdb209671fcf27750208a66
ARG GST_PLUGINS_BAD_CHECKOUT=bdeef84e4e44860417f9f246a5fd608145aa092d
ARG GST_PLUGINS_GOOD_CHECKOUT=39d9976b6a98a8a4b423b9b2c452b554e6233a4a
ARG GST_PLUGINS_UGLY_CHECKOUT=9273903286b0fe7a9d8a5279c44a5e149e55ff24
ARG GST_LIBAV_CHECKOUT=c8b88847919c9cb26205d91111fa11d4d4f44883

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /

ARG DEBUG=true

RUN ["/compile"]
