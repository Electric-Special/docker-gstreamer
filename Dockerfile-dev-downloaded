FROM restreamio/gstreamer:dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gstreamer.git
ARG GSTREAMER_CHECKOUT=dbfb719f0912edcc8a8124e52f4f492e7d308fa1

ARG LIBWPE_VERSION=1.9.1
ARG WPEBACKEND_FDO_VERSION=1.9.1
ARG WPEWEBKIT_VERSION=2.31.1

ARG LIBNICE_REPOSITORY=https://gitlab.freedesktop.org/libnice/libnice.git
ARG LIBNICE_CHECKOUT=2b38ba23b726694293de53c90b59b28ca11746ab

ARG GST_PLUGINS_BASE_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-base.git
ARG GST_PLUGINS_BASE_CHECKOUT=2a7dc8b66fb1906cef30b82a115e4ff80b762a6c

ARG GST_PLUGINS_BAD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-bad.git
ARG GST_PLUGINS_BAD_CHECKOUT=9e9419c4fd7e796ec82fadfd54a6e522455fbbea

ARG GST_PLUGINS_GOOD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-good.git
ARG GST_PLUGINS_GOOD_CHECKOUT=714b23de12f7b1693f471d5bcda7607fcff61a9a

ARG GST_PLUGINS_UGLY_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-plugins-ugly.git
ARG GST_PLUGINS_UGLY_CHECKOUT=a9105ad1e1fb8cbcf787c2a967697707eea405ed

ARG GST_LIBAV_REPOSITORY=https://gitlab.freedesktop.org/ystreet/gst-libav.git
ARG GST_LIBAV_CHECKOUT=808460aa95fcb4f717150a7edf4116302d19ae05

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /
