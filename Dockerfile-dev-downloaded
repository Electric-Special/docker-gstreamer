FROM restreamio/gstreamer:latest-dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gstreamer.git
ARG GSTREAMER_CHECKOUT=38bd3946c1cf99b7d7ed2bb230a969107cf9a7b0

ARG LIBWPE_VERSION=1.7.1
ARG WPEBACKEND_FDO_VERSION=1.7.1
ARG WPEWEBKIT_VERSION=2.29.90

ARG USRSCTP_REPOSITORY=https://github.com/sctplab/usrsctp.git
ARG USRSCTP_CHECKOUT=a1455a839466fc69262e1717c355a7f70dfc4004

ARG LIBNICE_REPOSITORY=https://gitlab.freedesktop.org/libnice/libnice.git
ARG LIBNICE_CHECKOUT=620eec948ce107a40a9d7a79508e7143d28181c5

ARG GST_PLUGINS_BASE_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-base.git
ARG GST_PLUGINS_BASE_CHECKOUT=756ceeb6c61311355ead37778c2187ad121bdd52

ARG GST_PLUGINS_BAD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-bad.git
ARG GST_PLUGINS_BAD_CHECKOUT=b00cdaf2b86622895b211d4222490d44fd188bbe

ARG GST_PLUGINS_GOOD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-good.git
ARG GST_PLUGINS_GOOD_CHECKOUT=adc98f1a95f0f1ee7811c787c064b2d063e863bd

ARG GST_PLUGINS_UGLY_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-plugins-ugly.git
ARG GST_PLUGINS_UGLY_CHECKOUT=995a135df6276a060ce16078fd6db54668163199

ARG GST_LIBAV_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-libav.git
ARG GST_LIBAV_CHECKOUT=8d3c0a1f8a8fa6411c3a4f50a06cd077118e7883

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /
