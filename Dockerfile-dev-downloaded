FROM restreamio/gstreamer:dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gstreamer.git
ARG GSTREAMER_CHECKOUT=a340d9b0306df0c658e5b0e3ec7a83c9c54f5dbe

ARG LIBWPE_VERSION=1.10.0
ARG WPEBACKEND_FDO_VERSION=1.9.90
ARG WPEWEBKIT_VERSION=2.32.0

ARG LIBNICE_REPOSITORY=https://gitlab.freedesktop.org/libnice/libnice.git
ARG LIBNICE_CHECKOUT=36aa468c4916cfccd4363f0e27af19f2aeae8604

ARG GST_PLUGINS_BASE_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-base.git
ARG GST_PLUGINS_BASE_CHECKOUT=83c1ec9ce99edc4316e42b4a496680582f9f26ec

ARG GST_PLUGINS_BAD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-bad.git
ARG GST_PLUGINS_BAD_CHECKOUT=9d24b1cf6597fe16a3468e4d318003695171e00b

ARG GST_PLUGINS_GOOD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-good.git
ARG GST_PLUGINS_GOOD_CHECKOUT=3e57038e1127ef465e5882da2e850f0e8806cd5d

ARG GST_PLUGINS_UGLY_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-plugins-ugly.git
ARG GST_PLUGINS_UGLY_CHECKOUT=3ff44eabc3589584ed73ba77ce34e62042d6e578

ARG GST_LIBAV_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-libav.git
ARG GST_LIBAV_CHECKOUT=1b81e05ab9203fead9fbca4997703b2ed6484ec2

ARG GSTREAMER_VAAPI_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gstreamer-vaapi.git
ARG GSTREAMER_VAAPI_CHECKOUT=993d46bb2ff28169b269e4a9f951539cc2da6f24

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /
