FROM restreamio/gstreamer:latest-dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gstreamer.git
ARG GSTREAMER_CHECKOUT=35096774aff52cd9541f7afc442ad26b3070f16d

ARG LIBWPE_VERSION=1.7.1
ARG WPEBACKEND_FDO_VERSION=1.7.1
ARG WPEWEBKIT_VERSION=2.29.90

ARG USRSCTP_REPOSITORY=https://github.com/sctplab/usrsctp.git
ARG USRSCTP_CHECKOUT=995c0b84414466d77d52011e5b572cbe213b770a

ARG LIBNICE_REPOSITORY=https://gitlab.freedesktop.org/libnice/libnice.git
ARG LIBNICE_CHECKOUT=833c1aa4cc442f2e25216dc411651a674d36c09a

ARG GST_PLUGINS_BASE_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-base.git
ARG GST_PLUGINS_BASE_CHECKOUT=7cc71a749e27ab5a93b37001b82a1be1bfe27a87

ARG GST_PLUGINS_BAD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-bad.git
ARG GST_PLUGINS_BAD_CHECKOUT=9480d09daf44f4211a9e8965cb244d119f2d1b39

ARG GST_PLUGINS_GOOD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-good.git
ARG GST_PLUGINS_GOOD_CHECKOUT=c9e9af18d753921b2b6cd278f99d6ef94180e824

ARG GST_PLUGINS_UGLY_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-plugins-ugly.git
ARG GST_PLUGINS_UGLY_CHECKOUT=60337ffed99e173d58c4f4f6cd084df7e00c527d

ARG GST_LIBAV_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-libav.git
ARG GST_LIBAV_CHECKOUT=93f78bc76bb0494d81c75768e6ef388bbf2adc33

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /
