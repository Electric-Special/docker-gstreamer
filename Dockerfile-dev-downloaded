FROM restreamio/gstreamer:dev-dependencies

ARG GSTREAMER_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gstreamer.git
ARG GSTREAMER_CHECKOUT=e78ecbbeec58e973328ff66e12cf06d1e92d2e9c

ARG LIBWPE_VERSION=1.10.1
ARG WPEBACKEND_FDO_VERSION=1.10.0
ARG WPEWEBKIT_VERSION=2.32.1

ARG LIBNICE_REPOSITORY=https://gitlab.freedesktop.org/libnice/libnice.git
ARG LIBNICE_CHECKOUT=a0cfef727f6fdbc584514b6eefc6d9743874df97

ARG GST_PLUGINS_BASE_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-base.git
ARG GST_PLUGINS_BASE_CHECKOUT=003686a7d11b6e0ce66b3510a244a27dcfb3b69b

ARG GST_PLUGINS_BAD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-bad.git
ARG GST_PLUGINS_BAD_CHECKOUT=3bc956940e1ae012cb6a961ff675167b0e8a21f5

ARG GST_PLUGINS_GOOD_REPOSITORY=https://gitlab.freedesktop.org/nazar-pc/gst-plugins-good.git
ARG GST_PLUGINS_GOOD_CHECKOUT=005b3ed6406ed706209ba3b9d306b7d9fa23c792

ARG GST_PLUGINS_UGLY_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-plugins-ugly.git
ARG GST_PLUGINS_UGLY_CHECKOUT=cc1a7e2c4d10ab118d635a9db163440bc9d96dd0

ARG GST_LIBAV_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gst-libav.git
ARG GST_LIBAV_CHECKOUT=678773bb6468e815c180ff82a09d863451e89ba8

ARG GSTREAMER_VAAPI_REPOSITORY=https://gitlab.freedesktop.org/gstreamer/gstreamer-vaapi.git
ARG GSTREAMER_VAAPI_CHECKOUT=677d1e01051e2ee47439cff7cc7f527bb71afbb8

COPY docker/build-gstreamer/download /

RUN ["/download"]

COPY docker/build-gstreamer/compile /
